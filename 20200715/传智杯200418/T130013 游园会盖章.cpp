#include <cstdio>
#include <cstring>

const char c[20][51] = {
	"...........................,]]OOO@@@@OOO]`........",
	"....................,]OO@@@@@@@@@@@@@@@@@@@@O`....",
	"................./O@@@@@@@@@@@@@@@@@@@@@@@@@@@@^..",
	"............../O@@@@@@@@@@@@@@@OOOOOOO@@@@@@@@@@@.",
	"..........,/@@@@@@@@@@@@O/[.............[O@@@@@@@\\",
	"........,O@@@@@@@@@@O/`..................,O@@@@@@O",
	".......O@@@@@@@@@O`......]OO@@@O\\`........O@@@@@@@",
	".....,O@@@@@@@@/`.....]O@@@@@@@@@@^.......O@@@@@@@",
	"...,/@@@@@@@O/...../@@@@@@@@@@@@@@O....../@@@@@@@0",
	"..=@@@@@@@O`...../@@@@@@@@@@@@@@@@^.....O@@@@@@@O.",
	"./@@@@@@@/......O@@@@@@@@@@@@@@@O`..../@@@@@@@@O..",
	"=@@@@@@@O......O@@@@@@@@@@@@@@@^....O@@@@@@@@@O...",
	"O@@@@@@@^.....=@@@@@@@@@@@@@O[..../@@@@@@@@@O`....",
	"@@@@@@@O.......\\@@@@@@@@O[...../O@@@@@@@@@O`......",
	"@@@@@@@@^.........[`.......]OO@@@@@@@@@@O`........",
	"O@@@@@@@@O\\............]/@@@@@@@@@@@@O/...........",
	"=@@@@@@@OOOoo`........O@@@@@@@@@@@@/`.............",
	"..\\OOOOO*,`*..........O@@@@@@@@@O`................",
	".....,[[..............O@@@@@@O`...................",
	"......................O@@@@@@O...................."
};

const char cr[20][51] = {
	"....................O@@@@@@O......................",
	"...................`O@@@@@@O..............[[,.....",
	"................`O@@@@@@@@@O..........*`,*OOOOO\\..",
	".............`/@@@@@@@@@@@@O........`ooOOO@@@@@@@=",
	".........../O@@@@@@@@@@@@/]............\\O@@@@@@@@O",
	"........`O@@@@@@@@@@OO].......`[.........^@@@@@@@@",
	"......`O@@@@@@@@@O/.....[O@@@@@@@@\\.......O@@@@@@@",
	"....`O@@@@@@@@@/....[O@@@@@@@@@@@@@=.....^@@@@@@@O",
	"...O@@@@@@@@@O....^@@@@@@@@@@@@@@@O......O@@@@@@@=",
	"..O@@@@@@@@/....`O@@@@@@@@@@@@@@@O....../@@@@@@@/.",
	".O@@@@@@@O.....^@@@@@@@@@@@@@@@@/.....`O@@@@@@@=..",
	"0@@@@@@@/......O@@@@@@@@@@@@@@/...../O@@@@@@@/,...",
	"@@@@@@@O.......^@@@@@@@@@@O].....`/@@@@@@@@O,.....",
	"@@@@@@@O........`\\O@@@OO]......`O@@@@@@@@@O.......",
	"O@@@@@@O,..................`/O@@@@@@@@@@O,........",
	"\\@@@@@@@O[.............[/O@@@@@@@@@@@@/,..........",
	".@@@@@@@@@@@OOOOOOO@@@@@@@@@@@@@@@O/..............",
	"..^@@@@@@@@@@@@@@@@@@@@@@@@@@@@O/.................",
	"....`O@@@@@@@@@@@@@@@@@@@@OO],....................",
	"........`]OOO@@@@OOO]],..........................."
};

char ans[1000+10][2000+10];
int n, h, w;

int min(int a, int b) { return a<b?a:b; }
int max(int a, int b) { return a>b?a:b; }

int main() {
	/*for(int i = 0; i < 20; i++) {
		for(int j = 0; j < 50; j++) putchar(c[i][j]);
		putchar('\n');
	}*/
	/*for(int i = 19; i >= 0; i--) {
		putchar('"');
		for(int j = 49; j >= 0; j--) putchar(c[i][j]);
		putchar('"'); putchar(',');
		putchar('\n');
	}
	for(int i = 0; i < 20; i++) {
		for(int j = 0; j < 50; j++) putchar(cr[i][j]);
		putchar('\n');
	}*/
	scanf("%d%d%d", &n, &h, &w);
	for(int i = 0; i < n; i++) {
		int x, y, r;
		scanf("%d%d%d", &x, &y, &r);
		for(int i=max(x, 0), i2=max(0, 0-x); i<min(x+20, h); i++, i2++)
			for(int j=max(y, 0), j2=max(0, 0-y); j<min(y+50, w); j++, j2++)
		//for(int i=max(x, 0), i2=0; i<min(x+20, h); i++, i2++)
		//	for(int j=max(y, 0), j2=0; j<min(y+50, w); j++, j2++)
				if(r%2 == 0) { if(c[i2][j2]!='.') ans[i][j] = c[i2][j2]; }
				else { if(cr[i2][j2]!='.') ans[i][j] = cr[i2][j2]; }
	}
	for(int i = 0; i < h; i++) {
		for(int j = 0; j < w; j++) putchar(ans[i][j]==0?'.':ans[i][j]);
		putchar('\n');
	}
	return 0;
}
